\documentclass[10pt,a4paper]{scrartcl}
\pagestyle{empty}
\usepackage{a4} % alternativ \usepackage{a4wide}
\usepackage[ngerman]{babel} % Neudeutsche Silbentrennung (mehrsprachiges Dokument)
\usepackage{parskip} % Skip indentation of first row
\usepackage{graphicx} % Graphics support
\usepackage{longtable} % Tables across several pages
\usepackage{booktabs}
\usepackage{hyperref} % Hyperlinks
\usepackage{float} % Force float position
\usepackage[automark]{scrpage2} %kopf/fusszeile
\usepackage{listings}
\usepackage[utf8x]{inputenc} % Unicode-Encoding

\lstset{basicstyle=\ttfamily}

\linespread{1.3}

\author{Danilo Bargen, Christian Fässler, Jonas Furrer} 
\title{REST Specfications\\Projekt BierIdee}

\pagestyle{scrheadings}
\ihead{SE2 Projekte} %linke Kopfzeile
\ohead{BierIdee} %rechte Kopfzeile

\let\textquotedbl="

\begin{document}

\begin{titlepage}
	\maketitle
	\vspace{120mm}
	\thispagestyle{empty} % Don't start page numbers on this page
\end{titlepage}

\newpage
	\tableofcontents
\newpage

\section*{Änderungshistorie}
\begin{tabular}{p{0.1\textwidth}p{0.15\textwidth}p{0.55\textwidth}p{0.1\textwidth}}
\toprule
\textbf{Version} & \textbf{Datum} & \textbf{Änderung} & \textbf{Person} \\  
\midrule
v1.0 & 03.04.2012 & Dokument erstellt & dbargen \\  
\hline 
v1.1 & 05.04.2012 & Tags und Json Formate hinzugefügt & jfurrer \\
\bottomrule
\end{tabular} 
\newpage


\section{Einleitung}

Die Definition der Ressourcen orientiert sich an den Regeln des Buches
\textit{REST API Design Rulebook} \cite{masse2011rest} aus dem O'Reilly Verlag.

\subsubsection*{URI Definition}

Bei der Bezeichnung der URIs\footnote{Uniform Resource Identifier} wurde folgende Terminologie gemäss RFC 3986 verwendet:

\texttt{URI = scheme \textquotedbl ://\textquotedbl{} authority \textquotedbl /\textquotedbl{}
path [ \textquotedbl ?\textquotedbl{} query ] [ \textquotedbl \#\textquotedbl{} fragment ]}

\subsubsection*{Ressource-Archetypen}

Nachfolgend die Ressource-Archetypen gemäss \cite{masse2011rest}. Die Erklärungstexte wurden direkt dem besagten
Buch entnommen.

\begin{description}
	\item[Document] A document resource is a singular concept that is akin to an object instance or database
		record. A document’s state representation typically includes both fields with values and
		links to other related resources.
	\item[Collection] A collection resource is a server-managed directory of resources. Clients may propose
		new resources to be added to a collection. However, it is up to the collection to choose
		to create a new resource, or not.
	\item[Store] A store is a client-managed resource repository. A store resource lets an API client put
		resources in, get them back out, and decide when to delete them. On their own, stores
		do not create new resources; therefore a store never generates new URIs. Instead, each
		stored resource has a URI that was chosen by a client when it was initially put into the
		store.
	\item[Controller] A controller resource models a procedural concept. Controller resources are like
		executable functions, with parameters and return values; inputs and outputs.
		Like a traditional web application’s use of HTML forms, a REST API relies on controller
		resources to perform application-specific actions that cannot be logically mapped to
		one of the standard methods (create, retrieve, update, and delete, also known as
		CRUD).
\end{description}


\section{REST Ressourcen}

Nachfolgend sind die verfügbaren REST Ressourcen definiert. Alle Ressourcen sind
unter der URI Authority \texttt{http://brauerei.nusszipfel.com/} erreichbar.


\subsection{Beer}

Ein spezifisches Bier, identifiziert durch die ID.

\begin{description}
	\item[URI Path] \texttt{/beers/\{beer-id\}}
	\item[Archetype] Document
	\item[Methods] GET, PUT, DELETE
	\item[Json Format] \hfill
\begin{lstlisting}
{
	type: "beer",
	name: "{beer-name}",
	image: "{image-path}",
	brand: "{brand-name}",
	beertype: "{resource-URI}",
	tags: "{resource-URI}?beer={beer-id}"
}
\end{lstlisting}
\end{description}


\subsection{Beers}

Der Bestand aller Biere.

\begin{description}
	\item[URI Path] \texttt{/beers}
 	\item[Query Parameters] \texttt{tag=\{tag-name\}}
	\item[Archetype] Collection
	\item[Methods] GET, POST
	\item[Json Format] \hfill
\begin{lstlisting}
[{
	type: "beer",
	name: "{beer-name}",
	image: "{image-path}",
	resource: "{resource-URI}"
}]
\end{lstlisting}
\end{description}

\subsection{Users}

Ein Benutzer, identifiziert durch den Benutzernamen.

\begin{description}
	\item[URI Path] \texttt{/users/\{username\}}
	\item[Archetype] Store
	\item[Methods] GET, PUT, DELETE
	\item[Json Format] \hfill
\begin{lstlisting}
{
	type: "user",
	username: "{username}"
}
\end{lstlisting}
\end{description}


\subsection{Recommendations}

Bier-Empfehlungen für einen bestimmten Benutzer.

\begin{description}
	\item[URI Path] \texttt{/users/\{username\}/recommendations}
	\item[Archetype] Controller
	\item[Methods] GET
	\item[Json Format] \hfill
\begin{lstlisting}
[{
	"type": "recommendation",
	"name": "{beer-name}",
	"beer": "{resource-URI}"
}]
\end{lstlisting}
\end{description}


\subsection{Ratings}

Eine Bier-Bewertung durch einen bestimmten Benutzer.

\begin{description}
	\item[URI Path] \texttt{/beers/\{beer-id\}/ratings/\{username\}}
	\item[Archetype] Store
	\item[Methods] GET, PUT, DELETE
	\item[Json Format] \hfill
\begin{lstlisting}
{
	type: "rating",
	beer: "{resource-URI}",
	user: "{resource-URI)",
	value: {value}
}
	\end{lstlisting}
\end{description}


\subsection{Consumption}

Ein Bierkonsum, identifiziert durch die ID.

\begin{description}
	\item[URI Path] \texttt{/consumption/\{consumption-id\}}
	\item[Archetype] Document
	\item[Methods] GET, PUT, DELETE
	\item[Json Format] \hfill
\begin{lstlisting}
{
	type: "consumtion",
	beer: "{resource-URI}",
	user: "{resource-URI)",
	timestamp: {value}
	
}
\end{lstlisting}
\end{description}


\subsection{Consumptions}

Der Bestand aller Bierkonsume.

\begin{description}
 	\item[URI Path] \texttt{/consumption}
 	\item[Query Parameters] \texttt{user=\{username\}, beer=\{beer-id\}}
	\item[Archetype] Collection
	\item[Methods] GET, POST
	\item[Json Format] \hfill
\begin{lstlisting}
[{	
	type: "consumtion",
	resource: "{recource-URI}"
	timestamp: {value}
}]
\end{lstlisting}
\end{description}


\subsection{Brewery}

Eine Brauerei, identifiziert durch die ID.

\begin{description}
	\item[URI Path] \texttt{/breweries/\{brewery-id\}}
	\item[Archetype] Document
	\item[Methods] GET, PUT, DELETE
	\item[Json Format] \hfill
\begin{lstlisting}
{	
	type: "brewery",
	name: "{brewery-name}"
	size: "{value}",
	profile: "{value}"
}
\end{lstlisting}
\end{description}


\subsection{Breweries}

Der Bestand aller Brauereien.

\begin{description}
	\item[URI Path] \texttt{/breweries}
	\item[Query Parameters] \texttt{brewerySize=\{size\}}
	\item[Archetype] Collection
	\item[Methods] GET, POST
	\item[Json Format] \hfill
\begin{lstlisting}
[{	
	type: "brewery",
	name: "{brewery-name}"
	resource: "{resource-URI}"
}]
\end{lstlisting}
\end{description}


\subsection{Timeline}

Die Aktivitäts-Timeline.

\begin{description}
 	\item[URI Path] \texttt{/timeline}
	\item[Query Parameters] \texttt{pageSize=\{size\}, pageStartIndex=\{index\}, user=\{username\}}
	\item[Archetype] Collection
	\item[Methods] GET
	\item[Json Format] \hfill
\begin{lstlisting}
[{	
	type: "{consumition | rating}",
	name: "{beer-name}",
	user: "{user-name}",
	resource: "{resource-URI}"
}]
\end{lstlisting}
\end{description}

\subsection{Tag}

Ein spezifischer Tag, identifiziert duch die ID.

\begin{description}
 	\item[URI Path] \texttt{/tags/{tag-id}}
	\item[Archetype] Document
	\item[Methods] GET, POST
	\item[Json Format] \hfill
\begin{lstlisting}
{	
	type: "tag",
	name: "{tag-name}"
}
\end{lstlisting}
\end{description}

\subsection{Tags}

Liste aller Tags.

\begin{description}
 	\item[URI Path] \texttt{/tags}
	\item[Query Parameters] \texttt{beer=\{beer-id\},}
	\item[Archetype] Collection
	\item[Methods] GET
	\item[Json Format] \hfill
\begin{lstlisting}
[{	
	type: "tag",
	name: "{tag-name}",
	resource: "{resource-URI}"
}]
\end{lstlisting}
\end{description}

\bibliographystyle{alpha}
\bibliography{REST.Interface}

\end{document}
