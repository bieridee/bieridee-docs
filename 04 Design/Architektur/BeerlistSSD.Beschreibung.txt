Das SSD PostRating beschreibt den Vorgang einer Bier-Bewertung. Der Einstiegspunkt in diesen Vorgang ist die Rating Ressource, welche auf einen POST Request reagiert und daraufhin den Vorgang startet. Um nicht direkt von der Ressource auf die Datenbank zuzugreifen, werden für das betroffene Bier sowie für den betroffenen Benutzer die entsprechenden Models instanziert. Der Zugriff auf die Datenbank passiert über eine Utility Klasse.
Wenn dann alle die Informationen zum Bier und zum Benutzer zur Verfügung stehen, wird ein neues Rating Model instanziert und daduch auch -- wieder mithilfe der DBUtil Klasse -- die neue Rating-Node erstellt. Wenn nun das Rating in der Datenbank exisiert muss noch die durchschnittliche Gesamtbewertung des betroffenen Bieres neu berechnet werden. Dies passiert direkt auf der Datenbank mithilfe eines Cypher-Queries. Dieses wird über das Bier Model initiiert und über ein Cyher Utility ausgeführt, um auch in diesem Fall die Ressource von der Datenbank getrennt zu halten.
Wenn alle Vorgänge die in diesem SSD beschrieben sind erfolgreich durchgeführt wurden, wurde eine neue Rating Node in der Datenbank erstellt und korrekt mit den benötigten Index-Nodes verbunden. Desweiteren wurde die durchschnittliche Bewertung des betroffenen Bieres auf der dazugehörenden Daten-Node in der Datenbank aktualisiert.
