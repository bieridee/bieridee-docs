Das SSD PostRating beschreibt den vorgang einer Bier-Bewertung. Der Einstiegspunkt in diesen Vorgang ist die Rating Resource die auf einen Post Request reagiert und danach den Vorgang startet. Um nicht direkt von der Resource auf die Datenbank zuzugreifen werden für das betroffene Bier sowie den Betroffenen Benutzer die entsprechenden Models instanziert. Der Zugriff auf die Datenbank passiert über eine Utility Klasse.
Wenn wenn dann alle die Informationen zum Bier und zum Benutzer zurverfügung stehen wird ein neues Rating Model instanziert und daduch auch, wieder mit hilfe der DBUtil Klasse die neue Rating-Node erstellt. Wenn nun das Rating in der Datenbank exisiert muss noch die durchschnittliche Gesamtbewertung des betroffenen Bieres neu berechnet werden. Dies passiert direkt auf der Datenbank mit hilfe einer Cypher-Query. Diese wird über das Bier Model initiiert und über ein Cyher Utility ausgeführt, um auch in diesem Fall die Resource von der Datenbank getrennt zu halten.
Wenn alle Vorgänge die in diesem SSD beschrieben sind erfolgreich durchgeführt wurden, wurde eine neue Rating Node in der Datenbank erstellt und korrekt mit den benötigten Index-Nodes verbunden und die durchschnittliche Bewertung des betroffenen Bieres wurde auf der dazugehörenden Daten-Node in der Datenbank aktualisiert.
